<div class="dialog-title">
  <div class="left-content">
  <mat-icon>tune</mat-icon>
  <h2 mat-dialog-title>
    Advanced Filters
  </h2>
  </div>
  <mat-icon class="help-icon" matTooltip="Conflicting filters may return zero results." aria-label="Help: Conflicting filters may return zero results.">help</mat-icon>
</div>

<mat-dialog-content class="filters-dialog-content">
  <p>Choose from the available filters below.</p>
  <!-- Dynamic Filters -->
  @if (data.filterConfigs && data.filterConfigs.length > 0) {
  <form [formGroup]="filtersForm">
    @for(filterConfig of data.filterConfigs; track $index) {
    @if (filterConfig.type === 'select') {
    <co-select [label]="filterConfig.label" [options]="getSelectOptions(filterConfig.options || [])"
      [placeholder]="'Choose ' + filterConfig.label" [formGroup]="filtersForm" [formControlName]="filterConfig.key"
      [model]="dummyModel">
    </co-select>
    } @else if (filterConfig.type === 'text') {
    <co-input [label]="filterConfig.label" [type]="'text'" [placeholder]="'Filter by ' + filterConfig.label"
      [formGroup]="filtersForm" [formControlName]="filterConfig.key" [model]="dummyModel">
    </co-input>
    } @else if (filterConfig.type === 'number') {
    <co-input [label]="filterConfig.label" [type]="'number'" [placeholder]="'Filter by ' + filterConfig.label"
      [formGroup]="filtersForm" [formControlName]="filterConfig.key" [model]="dummyModel">
    </co-input>
    } @else if (filterConfig.type === 'date') {
    <co-input [label]="filterConfig.label" [type]="'date'" [placeholder]="'Filter by ' + filterConfig.label"
      [formGroup]="filtersForm" [formControlName]="filterConfig.key" [model]="dummyModel">
    </co-input>
    }
    }
  </form>
  } @else {
  <div class="no-filters-message">
    <p>No advanced filters available for this table.</p>
  </div>
  }
</mat-dialog-content>

<mat-dialog-actions align="end" class="dialog-actions">
  <button mat-button (click)="clearFilters()" class="clear-btn">
    <mat-icon>clear_all</mat-icon>
    Clear
  </button>
  <div class="spacer"></div>
  <button mat-button (click)="close()">Cancel</button>
  <button mat-raised-button color="primary" (click)="apply()">
    <mat-icon>check</mat-icon>
    Apply Filters
  </button>
</mat-dialog-actions>