<div class="filters-container d-flex align-items-center gap-3">
  <!-- Search Input - Always Visible -->
  <mat-form-field appearance="outline" class="search-field">
    <mat-label>Search</mat-label>
    <input 
      matInput 
      (keyup)="onSearchChange($event)" 
      placeholder="Search all fields"
      #searchInput
      [value]="currentSearch">
    <mat-icon matSuffix>search</mat-icon>
  </mat-form-field>

  <!-- Filters Dialog Trigger -->
  <button 
    mat-stroked-button 
    (click)="openFiltersDialog()" 
    [class.has-active-filters]="hasActiveFilters()"
    aria-label="Open advanced filters dialog"
    class="filters-button">
    <mat-icon>tune</mat-icon>
    Advanced
    @if (hasActiveAdvancedFilters()) {
      <span class="active-filters-badge">{{ getActiveAdvancedFilterCount() }}</span>
    }
  </button>
</div>
