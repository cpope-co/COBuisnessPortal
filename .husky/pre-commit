# Validate JSON syntax using Node.js (no external dependencies)
echo "Validating fixture JSON syntax..."
for file in cypress/fixtures/auth/*.json; do
  node -e "try { JSON.parse(require('fs').readFileSync('$file', 'utf8')); } catch(e) { console.error('Invalid JSON in $file:', e.message); process.exit(1); }" || {
    echo "❌ JSON validation failed! Fix fixture syntax before committing."
    echo "Run 'npm run validate:fixtures' for detailed validation."
    exit 1
  }
done
echo "✅ JSON fixtures valid"

